<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{base}">

<head>
    <title>X√°c nh·∫≠n ƒë·∫∑t h√†ng - Shopping System</title>
    <th:block layout:fragment="extra-styles">
        <style>
            .order-info {
                background-color: #f8f9fa;
                padding: 20px;
                border-radius: 8px;
                margin-bottom: 30px;
            }

            .info-row {
                display: flex;
                margin-bottom: 15px;
                padding-bottom: 15px;
                border-bottom: 1px solid #dee2e6;
            }

            .info-row:last-child {
                border-bottom: none;
                margin-bottom: 0;
                padding-bottom: 0;
            }

            .info-label {
                font-weight: 600;
                color: #495057;
                width: 200px;
                flex-shrink: 0;
            }

            .info-value {
                color: #212529;
                flex-grow: 1;
            }

            .product-image {
                width: 150px;
                height: 150px;
                object-fit: cover;
                border-radius: 8px;
                border: 2px solid #dee2e6;
            }

            .button-group {
                display: flex;
                gap: 15px;
                justify-content: center;
                margin-top: 30px;
            }

            .btn-confirm {
                background-color: #28a745;
                color: white;
            }

            .btn-confirm:hover {
                background-color: #218838;
            }

            .btn-cancel {
                background-color: #6c757d;
                color: white;
            }

            .btn-cancel:hover {
                background-color: #5a6268;
            }

            .total-price {
                font-size: 24px;
                font-weight: bold;
                color: #28a745;
                text-align: right;
                padding: 20px;
                background-color: #d4edda;
                border-radius: 8px;
                margin-top: 20px;
            }

            @media (max-width: 768px) {
                .info-row {
                    flex-direction: column;
                }

                .info-label {
                    width: 100%;
                    margin-bottom: 5px;
                }

                .button-group {
                    flex-direction: column;
                }

                button,
                .btn {
                    width: 100%;
                }
            }
        </style>
    </th:block>
</head>

<body>
    <section layout:fragment="content">
        <h1>üõí X√°c Nh·∫≠n ƒê·∫∑t H√†ng</h1>

        <div class="order-info">
            <div class="info-row">
                <span class="info-label">Ng∆∞·ªùi ƒë·∫∑t h√†ng:</span>
                <span class="info-value" th:text="${username}">User</span>
            </div>

            <div class="info-row">
                <span class="info-label">H√¨nh ·∫£nh s·∫£n ph·∫©m:</span>
                <div class="info-value">
                    <img th:if="${product.productImg != null}" th:src="@{'/products/image/' + ${product.productId}}"
                        alt="Product Image" class="product-image">
                    <span th:if="${product.productImg == null}">Kh√¥ng c√≥ h√¨nh ·∫£nh</span>
                </div>
            </div>

            <div class="info-row">
                <span class="info-label">M√£ s·∫£n ph·∫©m:</span>
                <span class="info-value" th:text="${product.productId}">1</span>
            </div>

            <div class="info-row">
                <span class="info-label">T√™n s·∫£n ph·∫©m:</span>
                <span class="info-value" th:text="${product.productName}">Product Name</span>
            </div>

            <div class="info-row">
                <span class="info-label">Lo·∫°i s·∫£n ph·∫©m:</span>
                <span class="info-value" th:text="${product.productType?.producttypeName}">Category</span>
            </div>

            <div class="info-row">
                <span class="info-label">M√¥ t·∫£:</span>
                <span class="info-value" th:text="${product.productDescription}">Description</span>
            </div>

            <div class="info-row">
                <span class="info-label">S·ªë l∆∞·ª£ng:</span>
                <span class="info-value" th:text="${quantity}">0</span>
            </div>
        </div>

        <form method="post" th:action="@{/orders/confirm}">
            <input type="hidden" name="productId" th:value="${product.productId}">
            <input type="hidden" name="quantity" th:value="${quantity}">

            <div class="button-group">
                <button type="submit" class="btn-confirm">‚úì X√°c nh·∫≠n ƒë·∫∑t h√†ng</button>
                <a href="/products/list" class="btn btn-cancel">‚úó H·ªßy</a>
            </div>
        </form>
    </section>
</body>

</html>